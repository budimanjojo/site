<!DOCTYPE html>


  
<html itemscope itemtype="https://schema.org/WebPage" class="no-js" lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="siteBaseUrl" content="https://budimanjojo.com">
    <meta name="author" content="budimanjojo">
    <meta name="description" content="Life Journey of My Geeky Needs.">
    <meta name="keywords" content="blog,personal,responsive,kubernetes,linux,gitops,fluxcd,dotfiles,cluster,container">
    <meta name="generator" content="Hugo 0.101.0" />
    <title>
        
           
               Flux Secret Management with SOPS age &vert; Budiman JoJo
           
        
    </title>
    <meta itemprop="name" content="Flux Secret Management with SOPS age">
    <meta itemprop="description" content="Flux Secret Management with SOPS age - Life Journey of My Geeky Needs.">
    <meta property="og:title" content="Flux Secret Management with SOPS age">
    <meta property="og:description" content="Flux Secret Management with SOPS age - Life Journey of My Geeky Needs.">
    <meta property="og:image" content="https://www.gravatar.com/avatar/d41d8cd98f00b204e9800998ecf8427e?size=200">
    <meta property="og:url" content="https://budimanjojo.com/2021/10/23/flux-secret-management-with-sops-age/">
    <meta property="og:site_name" content="Budiman JoJo">
    <meta property="og:type" content="article">

    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
<link rel="manifest" href="/site.webmanifest">
<link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5">
<meta name="msapplication-TileColor" content="#da532c">
<meta name="theme-color" content="#ffffff">


    <script src="/modernizr-simple.js"></script>

    
    <link href="/2021/10/23/flux-secret-management-with-sops-age/" rel="alternate" type="application/rss+xml" title="Budiman JoJo" />
    <link href="/2021/10/23/flux-secret-management-with-sops-age/" rel="feed" type="application/rss+xml" title="Budiman JoJo" />
    

    
    <link rel="canonical" href="https://budimanjojo.com/2021/10/23/flux-secret-management-with-sops-age/">
    

    <link rel="stylesheet" href="https://budimanjojo.com/theme.css">

    

    
        
    
</head>

<body class="bilberry-hugo-theme">

    
    <nav class="permanentTopNav">

    <div class="container">
        <ul class="topnav">
            
                
                    <li><a href="https://github.com/budimanjojo" target="_blank">Github</a></li>
                
            
                
                    <li><a href="/archive/" target="">Archive</a></li>
                
            
                
                    <li><a href="https://budimanjojo.com/page/about-budimanjojo/">About Me</a></li>
                
            
        </ul>

        
            <div id="search-box" class="search">
                <i class="fas fa-search"></i>
                <input id="search" type="text" placeholder="Search ...">
            </div>
        
    </div>
</nav>


    
    <header>

    <div class="container">
        <div class="logo">
            <a href="/" class="logo">
                
                    <img src="/avatar.png" alt="">
                

                <span class="overlay"><i class="fa fa-home"></i></span>
            </a>
        </div>
        <div class="titles">
            <h3 class="title">
                <a href="/">
                    Budiman JoJo
                </a>
            </h3>

            
                <span class="subtitle">Life Journey of My Geeky Needs.</span>
            
        </div>

        

        
            <div class="toggler permanentTopNav">
        
                <i class="fa fa-bars" aria-hidden="true"></i>
            </div>
    </div>
</header>


    <div class="main container">
        
    <div class="article-wrapper u-cf single">
        
            <a class="bubble" href="https://budimanjojo.com/2021/10/23/flux-secret-management-with-sops-age/">
    <i class="fas fa-fw fa-pencil-alt"></i>
</a>

<article class="default article">
    

    <div class="content">
    <h1 class="article-title">
        <a href="https://budimanjojo.com/2021/10/23/flux-secret-management-with-sops-age/">
            Flux Secret Management with SOPS age
        </a>
    </h1>

    <div class="meta">
        
            
                <span class="date moment">2021-10-23</span>
            
        

        
            
                <span class="readingTime">2 min read</span>
            
        

        
            <span class="categories">
                
                    
                    
                        <a href="https://budimanjojo.com/categories/kubernetes/">Kubernetes</a>
                    
                
                    
                    
                        <a href="https://budimanjojo.com/categories/self-hosted/">Self Hosted</a>
                    
                
            </span>
        

        
            <span class="author">
                
                
                    <a href="https://budimanjojo.com/author/budimanjojo/">budimanjojo</a>
                
            </span>
        
    </div>

    
        

        <p><img src="/wp-content/uploads/2021/10/flux-sops-secret-e1635315378509.png" alt="flux secret with sops age"></p>
<p>Following my <a href="https://budimanjojo.com/2021/10/20/how-i-manage-my-kubernetes-manifests-using-flux/">previous post</a> about Kubernetes management using <a href="https://fluxcd.io/">Flux</a>, this post will cover secret management using <a href="https://github.com/mozilla/sops">SOPS</a> and <a href="https://github.com/FiloSottile/age">age</a>. SOPS is a tool to encrypt and decrypt text files while age is the encryption tool that is simple, modern, and secure.</p>
<h2 id="reasons-to-use-sops-and-age">Reasons to Use SOPS and age</h2>
<p>Flux supports <a href="https://github.com/bitnami-labs/sealed-secrets">Sealed Secrets</a> and SOPS as secret management, but I prefer SOPS for multiple reasons. You may or may not agree with me. But this is not about which one is a better tool, instead this is simply a post about me sharing my thought. The main difference between SOPS and Sealed Secrets is SOPS is not focusing mainly in Kubernetes while Sealed Secrets is created with Kubernetes in mind. While this can be a pro for Sealed Secrets, I prefer SOPS because I also use SOPS to manage my Ansible secrets with the <a href="https://github.com/ansible-collections/community.sops">community collection</a>. Another thing I like about SOPS is it’s not doing encryption by itself and allows us as the user to use our preferred encryption tool. I choose age as my encryption tool because it’s simple and quick.</p>
<p>While I love and use SOPS, there is something concerning about its development. It has been slow and it has been <a href="https://github.com/mozilla/sops/discussions/927">looking for new maintainers</a> for quite some time now. I don’t know how long this project will work in the future and I really hope they can sort it out.</p>
<h2 id="installing-sops-and-age">Installing SOPS and age</h2>
<p>The first step is of course installing the tool. In the machine that you run Flux, install SOPS and age. You can get the binary for SOPS by grabbing it from their <a href="https://github.com/mozilla/sops/releases">Github release page</a> like this:</p>
<pre tabindex="0"><code>&lt;pre class=&#34;wp-block-code&#34;&gt;```
sudo curl -L https://github.com/mozilla/sops/releases/download/v3.7.1/sops-v3.7.1.linux -o /usr/local/bin/sops &amp;&amp; sudo chmod +x /usr/local/bin/sops
</code></pre><pre tabindex="0"><code>
To install age, you can either use your distribution package manager or you can also grab it from their [Github release page](https://github.com/FiloSottile/age/releases) too:
</code></pre><!-- raw HTML omitted -->
    
</div>

    
<div class="footer">


    
        <div class="tags">
            <i class="fa fa-tags"></i>
            <div class="links">
                
                    
                    
                    <a href="https://budimanjojo.com/tags/age/">age</a>
                    
                
                    
                    
                    <a href="https://budimanjojo.com/tags/flux/">flux</a>
                    
                
                    
                    
                    <a href="https://budimanjojo.com/tags/gitops/">gitops</a>
                    
                
                    
                    
                    <a href="https://budimanjojo.com/tags/kubernetes/">kubernetes</a>
                    
                
                    
                    
                    <a href="https://budimanjojo.com/tags/linux/">linux</a>
                    
                
                    
                    
                    <a href="https://budimanjojo.com/tags/secret/">secret</a>
                    
                
                    
                    
                    <a href="https://budimanjojo.com/tags/server/">server</a>
                    
                
                    
                    
                    <a href="https://budimanjojo.com/tags/sops/">sops</a>
                    
                
            </div>
        </div>
    

    
</div>

</article>

        
    </div>

    
        <div id="comments-container">
            
            

            
    <script src="https://giscus.app/client.js"
        data-repo="budimanjojo/site"
        data-repo-id="R_kgDOH1yWAQ"
        data-category="General"
        data-category-id="DIC_kwDOH1yWAc4CQ6Px"
        data-mapping="title"
        data-reactions-enabled="1"
        data-emit-metadata=""
        data-theme="light_tritanopia"
        
            data-lang="en"
        
        crossorigin="anonymous"
        async>
    </script>
    <div id="giscus"></div>


            

        </div>
    

    </div>

    
<footer>
    <div class="container">

        
        <div class="recent-posts">
            <strong>Latest posts</strong>
            <ul>
                
                
                    <li>
                        <a href="https://budimanjojo.com/2021/12/13/managing-dotfiles-with-chezmoi/">Managing Dotfiles with chezmoi</a>
                    </li>
                
                    <li>
                        <a href="https://budimanjojo.com/2021/11/04/gitops-home-assistant-configurations/">How I GitOps Home Assistant Configurations</a>
                    </li>
                
                    <li>
                        <a href="https://budimanjojo.com/2021/10/28/kured-kubernetes/">Automating Kubernetes Nodes Reboot with Kured</a>
                    </li>
                
                    <li>
                        <a href="https://budimanjojo.com/2021/10/27/variable-substitution-in-flux-gitops/">Variable Substitution in Flux GitOps</a>
                    </li>
                
                    <li>
                        <a href="https://budimanjojo.com/2021/10/23/flux-secret-management-with-sops-age/">Flux Secret Management with SOPS age</a>
                    </li>
                
                    <li>
                        <a href="https://budimanjojo.com/2021/10/20/how-i-manage-my-kubernetes-manifests-using-flux/">How I Manage My Kubernetes Manifests Using Flux</a>
                    </li>
                
            </ul>
        </div>
        

        
        <div class="categories">
            <a href="/categories/"><strong>Categories</strong></a>
            <ul>
                
                <li>
                    <a href="/categories/linux">Linux
                        (9)</a>
                </li>
                
                <li>
                    <a href="/categories/self-hosted">Self hosted
                        (6)</a>
                </li>
                
                <li>
                    <a href="/categories/kubernetes">Kubernetes
                        (5)</a>
                </li>
                
                <li>
                    <a href="/categories/raspberry-pi">Raspberry pi
                        (4)</a>
                </li>
                
                <li>
                    <a href="/categories/terminal-stuffs">Terminal stuffs
                        (2)</a>
                </li>
                
                <li>
                    <a href="/categories/desktop-stuffs">Desktop stuffs
                        (1)</a>
                </li>
                
            </ul>
        </div>
        

        <div class="right">
            
            <div class="external-profiles">
                <strong>Social media</strong>

                
                <a href="https://github.com/budimanjojo" target="_blank"><i class="fab fa-github"></i></a>
                
                <a href="mailto:budiman@budimanjojo.com" target="_blank"><i class="fa fa-envelope"></i></a>
                
                <a href="https://www.youtube.com/channel/UCRDomXby1IfxWeTzB8xTOFA" target="_blank"><i class="fab fa-youtube"></i></a>
                
            </div>
            

            

            
        </div>
    </div>
</footer>


<div class="credits">
    <div class="container">
        <div class="copyright">
            <a href="https://github.com/budimanjojo" target="_blank">
                &copy;
                
                2022
                
                by budimanjojo
            </a>
            
        </div>
        <div class="author">
            <a href="https://github.com/Lednerb/bilberry-hugo-theme"
                target="_blank">Bilberry Hugo Theme</a>
        </div>
    </div>
</div>


    

    


    <script src="https://budimanjojo.com/theme.js"></script>

    
    
    

    
    <div id="activate-algolia-search" class="hidden">
  <input type="hidden" id="algolia-search-appId" value="72C1FEBFMX">
  <input type="hidden" id="algolia-search-apiKey" value="f86a032ec932c5020e3a63404a6d937e">
  <input type="hidden" id="algolia-search-indexName" value="budimanjojo_com">
  <input type="hidden" id="algolia-search-noSearchResults" value="Nothing found.">

  
</div>

    
</body>

</html>
